<div class="py-5 text-center">
  <h2>Edit pet</h2>
</div>

<div class="col-md-12 order-md-1">
  <form
    class="needs-validation"
    novalidate
    (ngSubmit)="onSubmit()"
    #petEdit="ngForm"
  >
    <div class="mb-3 form-group">
      <label class="mb-2" for="name"
        >Name <span class="text-danger">*</span></label
      >
      <div class="input-group">
        <input
          type="text"
          [(ngModel)]="pet.name"
          class="form-control"
          id="name"
          name="name"
          placeholder="Name"
          required
          minlength="4"
          #name="ngModel"
        />
      </div>
    </div>

    <div
      *ngIf="name.invalid && (name.dirty || name.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="name.errors?.['required']">Name is required.</div>
      <div *ngIf="name.errors?.['minlength']">
        Name must be at least 4 characters long.
      </div>
    </div>

    <div class="mb-3 form-group">
      <label class="mb-2" for="code"
        >Code <span class="text-danger">*</span></label
      >
      <div class="input-group">
        <input
          type="text"
          [(ngModel)]="pet.code"
          class="form-control"
          id="code"
          name="code"
          placeholder="Code"
          required
          minlength="4"
          #code="ngModel"
        />
      </div>
    </div>

    <div
      *ngIf="code.invalid && (code.dirty || code.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="code.errors?.['required']">Code is required.</div>
      <div *ngIf="code.errors?.['minlength']">
        Code must be at least 4 characters long.
      </div>
    </div>

    <div class="mb-3 form-group">
      <label class="mb-2" for="types"
        >Type <span class="text-danger">*</span></label
      >
      <select
        [(ngModel)]="pet.type"
        class="form-select d-block w-100"
        id="types"
        name="types"
        required
        #types="ngModel"
      >
        <option [ngValue]="undefined" disabled selected>Choose...</option>
        <option *ngFor="let petType of petTypes" [ngValue]="petType.name">
          {{ petType.name }}
        </option>
      </select>
    </div>

    <div
      *ngIf="types.invalid && (types.dirty || types.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="types.errors?.['required']">Type is required.</div>
    </div>

    <div class="mb-3 form-group">
      <label class="mb-2" for="colors"
        >Fur color <span class="text-danger">*</span></label
      >
      <select
        [(ngModel)]="pet.furColor"
        class="form-select d-block w-100"
        id="colors"
        name="colors"
        required
        #colors="ngModel"
      >
        <option [ngValue]="undefined" disabled selected>Choose...</option>
        <option
          *ngFor="let petFurColor of petFurColors"
          [ngValue]="petFurColor.name"
        >
          {{ petFurColor.name }}
        </option>
      </select>
    </div>

    <div
      *ngIf="colors.invalid && (colors.dirty || colors.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="colors.errors?.['required']">Fur color is required.</div>
    </div>

    <div class="mb-3 form-group">
      <label class="mb-2" for="countries"
        >Country of origin <span class="text-danger">*</span></label
      >
      <select
        [(ngModel)]="pet.country"
        class="form-select d-block w-100"
        id="countries"
        name="countries"
        required
        #countries="ngModel"
      >
        <option [ngValue]="undefined" disabled selected>Choose...</option>
        <option
          *ngFor="let petCountry of petCountries"
          [ngValue]="petCountry.name"
        >
          {{ petCountry.name }}
        </option>
      </select>
    </div>

    <div
      *ngIf="countries.invalid && (countries.dirty || countries.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="countries.errors?.['required']">
        Country of origin is required.
      </div>
    </div>

    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
      <a class="btn btn-secondary btn-lg" routerLink="/pets">Back</a>
      <button
        class="btn btn-primary btn-lg"
        type="submit"
        [disabled]="!petEdit.form.valid"
      >
        Save Pet
      </button>
    </div>
  </form>
</div>
